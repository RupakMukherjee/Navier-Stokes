To compile:
module load pgi/2018/pgi/18.4
module load cuda/9.0
module unload gcc/7.1.0

To compile for TeslaP100

nvcc  -gencode arch=compute_70,code=sm_70 -c cufft3D.cu
pgf95 -acc -c -Minfo=accel -ta=tesla:cc70,managed -ta=tesla:managed -lm PSMHD3-cufftacc.f95 
pgf95 -acc -Minfo=accel -ta=tesla:cc70,managed -Mcudalib=cufft -ta=tesla:managed PSMHD3-cufftacc.o cufft3D.o -lm

